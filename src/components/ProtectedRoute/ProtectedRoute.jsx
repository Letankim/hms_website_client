 import { useContext } from "react"; import { Navigate } from "react-router-dom"; import AuthContext from "contexts/AuthContext"; const ProtectedRoute = ({ children, requiredRoles = [] }) => { const { user, loading } = useContext(AuthContext); if (loading) return <div>Loading...</div>; if (!user) return <Navigate to="/login" replace />; if ( requiredRoles.length > 0 && !requiredRoles.some((role) => user.roles?.includes(role)) ) { return <Navigate to="/" replace />; } return children; }; export default ProtectedRoute;